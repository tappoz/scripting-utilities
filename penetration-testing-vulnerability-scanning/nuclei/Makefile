# ----------------------------------------------------------------------------------------------------- #
# https://github.com/tappoz/scripting-utilities/tree/master/penetration-testing-vulnerability-scanning/ #
# ----------------------------------------------------------------------------------------------------- #

# https://nuclei.projectdiscovery.io/nuclei/get-started/
nuclei-install:
	GO111MODULE=on go get -v github.com/projectdiscovery/nuclei/v2/cmd/nuclei
	nuclei --version

nuclei-update-templates:
	-rm $(HOME)/.nuclei-config.json
	nuclei \
		-verbose \
		-update-templates \
		-update-directory $(PWD)/nuclei-templates

# -header "Authorization: Bearer $(JWT)"
nuclei-run-against-sample-backend-rest-app:
	time nuclei \
		-stats \
		-metrics \
		-rate-limit 150 \
		-list $(PWD)/../sample-backend-rest-app/urls_to_scan.txt \
		-templates $(PWD)/nuclei-templates \
		-output $(PWD)/nuclei_scan_report.log
